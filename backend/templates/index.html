<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Expense Distribution</title>
  <link rel="stylesheet" href="/static/style.css" />
</head>
<body>

  <h1>ğŸ’¸ Expense Distribution Tool</h1>

  <!-- ğŸ” LOGIN/REGISTER AREA -->
  <section id="auth-section">
    <div id="login-section">
      <h2>ğŸ” Login</h2>
      <input type="email" id="loginEmail" placeholder="Email" required />
      <input type="password" id="loginPassword" placeholder="Password" required />
      <button onclick="loginUser()">Login</button>
    </div>

    <div id="register-section">
      <h2>ğŸ“ Register</h2>
      <input type="text" id="registerName" placeholder="Name" required />
      <input type="email" id="registerEmail" placeholder="Email" required />
      <input type="password" id="registerPassword" placeholder="Password" required />
      <button onclick="registerUser()">Register</button>
    </div>

    <div id="user-info" style="display: none;">
      <p>ğŸ‘‹ Logged in as <span id="userEmailDisplay"></span></p>
      <button onclick="logoutUser()">Logout</button>
    </div>

    <div id="auth-message"></div>
    <hr />
  </section>

  <!-- ğŸ“˜ User Guide -->
  <section class="instructions">
    <h3>ğŸ“˜ How to Use</h3>
    <ul>
      <li>Fill in expense details (title, location, amount).</li>
      <li>Add users involved in this expense.</li>
      <li>Select who paid for the expense from the added users.</li>
      <li>Assign how much each user owes (default can auto-fill equally).</li>
      <li>Submit to save the expense and split amounts.</li>
    </ul>
  </section>

  <!-- ğŸ§¾ Expense Entry Form -->
  <section class="form-section">
    <form id="expenseForm">
      <div class="form-group">
        <label for="title">Expense Title:</label>
        <input type="text" name="title" id="title" placeholder="e.g. Lunch at Cafe" required />
      </div>

      <div class="form-group">
        <label for="location">Location:</label>
        <input type="text" name="location" id="location" placeholder="e.g. Downtown Cafe" required />
      </div>

      <div class="form-group">
        <label for="amount">Amount:</label>
        <input type="number" name="amount" id="amount" placeholder="e.g. 1200" step="0.01" required />
      </div>

      <!-- ğŸ‘¥ Add Users -->
      <div class="form-group">
        <label>Add Users:</label>
        <div id="userInputSection">
          <input type="text" id="newUserName" placeholder="Enter user name" />
          <button type="button" id="addUserBtn" onclick="addUser()">+ Add User</button>
        </div>
        <ul id="userList"></ul>
      </div>

      <!-- ğŸ‘¤ Paid By Dropdown -->
      <div class="form-group">
        <label for="paid_by">Who Paid?</label>
        <select name="paid_by" id="paid_by" required>
          <option value="">-- Select Paid By --</option>
        </select>
      </div>

      <!-- ğŸ’µ User Owed Amount Inputs -->
      <div class="form-group">
        <label>Owed Amounts:</label>
        <div id="owedAmounts"></div>
      </div>

      <!-- âœ… Submit Button -->
      <div class="form-group">
        <button type="submit" id="submitExpenseBtn">â• Add Expense</button>
      </div>
    </form>
  </section>

  <!-- ğŸ“Š Summary Section -->
  <section class="summary-section">
    <h2>ğŸ“Š Expense Summary</h2>
    <button onclick="loadSummary()">ğŸ”„ Load Summary</button>
    <div id="summary"></div>
  </section>

  <script src="/static/script.js"></script>
</body>
</html>
